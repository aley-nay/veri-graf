<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="echarts.min.js"></script>
    <script src="grafik2.js"></script>
    <title> GRAFİK 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div id="menu"></div>

    <div class="container">
        <div class="row">
          <div class="col-md-6">
            <div id="bolge1"></div>
            <div class="aciklama">
              <h3 class="mt-3">Grup <span>(Pie/Pasta)</span></h3>
              <p>Ürünlerin gruplarına göre satış fiyatları </p>
            </div>
          </div>
          <div class="col-md-6">
            <div id="bolge2"></div>
            <div class="aciklama">
              <h3 class="mt-3">Grup <span>(Bar/Sütun)</span></h3>
              <p>Ürünlerin gruplarına göre satış fiyatları</p>
            </div>
          </div>
        </div>
      </div>




    

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>



<script type="text/javascript">
  let tblListe = new tabloVerileri();

  tblListe
    .bilgiGetir("grubagorefiyat")
    .then(() => {
      tblListe.Pie1("bolge1");
      tblListe.barCiz("bolge2");
    })
    .then(() => {
      return tblListe.bilgiGetir();
    })
</script>

<!--<script type="text/javascript">
  class tabloVerileri {
    veriIsimler = [];
    satislar = [];

    async topluListe() {
      let result = await fetch("bilgigetir/?fn=grubagorefiyat");
      let data = await result.json();
      for (let i = 0; i < data.length; i++) {
        this.satislar.push(data[i].satisfiyatlari);
        this.veriIsimler.push(data[i].urungrubu);
      }
      //echartCiz(this.veriIsimler);
      return { isimler: this.veriIsimler, veriler: this.satislar };
    }
  }

  function echartCiz(isimler, veriler) {
datalar = [];
for (let i = 0; i < isimler.length; i++) {
datalar.push({ value: veriler[i], name: isimler[i] });
}

// Initialize the echarts instance based on the prepared dom
var myChart = echarts.init(document.getElementById("main"));

// Specify the configuration items and data for the chart
var option = {
title: {
  text: "",
  subtext: "",
  left: "center",
},
tooltip: {
  trigger: "item",
},
legend: {
  orient: "horizontal",
  left: "center",
  bottom: "0",
},
series: [
  {
    name: "",
    type: "pie",
    radius: "50%",
    data: datalar,
    emphasis: {
      itemStyle: {
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowColor: "rgba(0, 0, 0, 0.5)",
      },
    },
  },
],
};

// Display the chart using the configuration items and data just specified.
myChart.setOption(option);
}

  let tblListe = new tabloVerileri();
  tblListe.topluListe().then((data) => {
    echartCiz(data.isimler, data.veriler);
  });
</script>-->


<script>
  document.addEventListener("DOMContentLoaded", () => {
    fetch("menu.html")
      .then(response => response.text())
      .then(data => document.getElementById("menu").innerHTML = data);
  });

</script>
</body>
</html>